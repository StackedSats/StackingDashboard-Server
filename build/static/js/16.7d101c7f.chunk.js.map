{"version":3,"sources":["assets/img/graph-fn-calls.svg","pages/stack-analytics/ContractDetail.js","assets/img/graph-transaction-fees.png","components/Chart/ChartCard.js","components/Chart/ChartLegend.js","components/Typography/PageTitle.js"],"names":["module","exports","Left","className","Right","Blank","useState","calls","setCalls","fees","setFees","dateAgainsFee","setDateAgainstFee","pieLIst","setPieList","useEffect","a","axios","get","process","data","list","forEach","value","push","fee","Date","date","getTime","functionName","pieList","sum","Object","keys","key","fetch","labels","datasets","label","backgroundColor","borderColor","borderWidth","lineOptions","fill","options","responsive","tooltips","mode","intersect","hover","scales","x","display","y","scaleLabel","labelString","legend","left","right","class","map","index","stxAddress","parseInt","now","title","legends","color","Chart","children","ChartLegend","PageTitle","show"],"mappings":"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","file":"static/js/16.7d101c7f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/graph-fn-calls.09d2573f.svg\";","import React, { useEffect, useState } from \"react\";\n\nimport PageTitle from \"../../components/Typography/PageTitle\";\n\nimport {\n  Card,\n  CardBody,\n  Select,\n  Table,\n  TableHeader,\n  TableCell,\n  TableBody,\n  TableRow,\n  TableContainer,\n} from \"@windmill/react-ui\";\nimport { FiDownload } from \"react-icons/fi\";\nimport axios from \"axios\";\nimport tc from \"../../assets/img/graph-fn-calls.svg\";\nimport tf from \"../../assets/img/graph-transaction-fees.png\";\nimport ChartCard from \"../../components/Chart/ChartCard\";\n\nimport { Doughnut, Line, Pie } from \"react-chartjs-2\";\nimport ChartLegend from \"../../components/Chart/ChartLegend\";\n\nconst Left = () => {\n  return (\n    <>\n      <h1 className=\"mb-3 text-2xl\">Contract Detail</h1>\n      <div>ST000000000000000000002AMW42H.pox</div>\n    </>\n  );\n};\n\nconst Right = () => {\n  return <></>;\n};\n\nfunction Blank() {\n  const [calls, setCalls] = useState([]);\n  const [fees, setFees] = useState([]);\n  const [dateAgainsFee, setDateAgainstFee] = useState([]);\n  const [pieLIst, setPieList] = useState({});\n\n  useEffect(() => {\n    const fetch = async () => {\n      const data = await axios.get(\n        `${process.env.REACT_APP_BACKENDURL}/callHistory`\n      );\n      setCalls(data.data);\n      let list = {};\n      let fees = [];\n      let dateAgainsFee = [];\n      data.data.forEach((value) => {\n        fees.push(value.fee);\n\n        dateAgainsFee.push(new Date(value.date).getTime());\n        if (list[value.functionName]) {\n          list[value.functionName] += list[value.functionName];\n        } else {\n          list[value.functionName] = 1;\n        }\n      });\n      setFees(fees);\n      setDateAgainstFee(dateAgainsFee);\n\n      let pieList = { sum: [], functionName: [] };\n      Object.keys(list).forEach((key) => {\n        pieList.sum.push(list[key]);\n        pieList.functionName.push(key);\n      });\n\n      setPieList(pieList);\n    };\n    fetch();\n  }, []);\n\n  const data = {\n    labels: pieLIst.functionName,\n    datasets: [\n      {\n        label: \"# of Votes\",\n        data: pieLIst.sum,\n        backgroundColor: [\n          \"rgba(255, 99, 132, 0.2)\",\n          \"rgba(54, 162, 235, 0.2)\",\n          \"rgba(255, 206, 86, 0.2)\",\n          \"rgba(75, 192, 192, 0.2)\",\n          \"rgba(153, 102, 255, 0.2)\",\n          \"rgba(255, 159, 64, 0.2)\",\n        ],\n        borderColor: [\n          \"rgba(255, 99, 132, 1)\",\n          \"rgba(54, 162, 235, 1)\",\n          \"rgba(255, 206, 86, 1)\",\n          \"rgba(75, 192, 192, 1)\",\n          \"rgba(153, 102, 255, 1)\",\n          \"rgba(255, 159, 64, 1)\",\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const lineOptions = {\n    data: {\n      labels: dateAgainsFee,\n      datasets: [\n        {\n          label: \"Fees\",\n          backgroundColor: \"#0694a2\",\n          borderColor: \"#0694a2\",\n          data: fees,\n          fill: true,\n        },\n      ],\n    },\n    options: {\n      responsive: true,\n      tooltips: {\n        mode: \"index\",\n        intersect: false,\n      },\n      hover: {\n        mode: \"nearest\",\n        intersect: true,\n      },\n      scales: {\n        x: {\n          display: true,\n        },\n        y: {\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: \"Value\",\n          },\n        },\n      },\n    },\n    legend: {\n      display: false,\n    },\n  };\n\n  const lineLegends = [{ title: \"Fees\", color: \"bg-teal-600\" }];\n\n  return (\n    <>\n      <PageTitle left={<Left />} right={<Right />}></PageTitle>\n      <div className=\"p-4 space-y-6\">\n        <div className=\"grid grid-cols-1 mb-8 xl:gap-6 xl:grid-cols-3\">\n          <div class=\"col-span-2\">\n            <Card className=\"mb-8 shadow-md\">\n              <CardBody className=\"text-white\">\n                <div className=\"flex flex-wrap justify-between mb-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span>\n                      <h3 className=\"mr-4 text-lg font-medium\">Call History</h3>\n                    </span>\n                    <div className=\"flex items-center ml-10 text-primary-400\">\n                      <FiDownload />\n                      <span className=\"ml-1\">Export</span>\n                    </div>\n                  </div>\n                  <div>\n                    <Select className=\"py-1 pl-2 mt-1 bg-transparent border-gray-300 leading-1\">\n                      <option>Sort By</option>\n                    </Select>\n                  </div>\n                </div>\n                <TableContainer className=\"mb-8\">\n                  <Table>\n                    <TableHeader>\n                      <tr>\n                        <TableCell>Function</TableCell>\n                        <TableCell>Contracts</TableCell>\n                        <TableCell>Fee</TableCell>\n                        <TableCell>Time</TableCell>\n                      </tr>\n                    </TableHeader>\n                    <TableBody className=\"text-lg divide-gray-500\">\n                      {calls.map((value, index) => {\n                        return (\n                          <TableRow className=\"text-white\" key={index}>\n                            <TableCell>{value.functionName}</TableCell>\n                            <TableCell>{value.stxAddress}</TableCell>\n                            <TableCell>{value.fee} STX</TableCell>\n                            <TableCell>\n                              {parseInt(\n                                (Date.now() - new Date(value.date)) /\n                                  (1000 * 60 * 24),\n                                10\n                              )}{\" \"}\n                              min. ago\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </CardBody>\n            </Card>\n          </div>\n          <div className=\"space-y-6\">\n            <Card>\n              <CardBody className=\"-mb-8 space-y-8 text-white\">\n                <div className=\"flex flex-wrap justify-between\">\n                  <div className=\"flex flex-wrap items-center\">\n                    <h2 className=\"mr-3 text-xl font-medium\">Function Calls</h2>\n                  </div>\n                  <div>\n                    <Select className=\"py-1 pl-2 mt-1 bg-transparent border-gray-300 leading-1\">\n                      <option>24 Hrs</option>\n                    </Select>\n                  </div>\n                </div>\n                <div className=\"pb-3 mb-3 border-b border-gray-500\">\n                  <div className=\"flex flex-wrap justify-between\">\n                    <div>Total # of Function Calls</div>\n                    <div className=\"flex font-medium text-success-500\">200</div>\n                  </div>\n                </div>\n                <ChartCard title=\"\">\n                  <Pie data={data} />\n                </ChartCard>\n              </CardBody>\n            </Card>\n            <Card>\n              <CardBody className=\"-mb-8 space-y-8 text-white\">\n                <h2 className=\"mr-3 text-xl font-medium\">Transaction fees</h2>\n                <ChartCard title=\"Doughnut\">\n                  <Line {...lineOptions} />\n                  <ChartLegend legends={lineLegends} />\n                </ChartCard>\n              </CardBody>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Blank;\n","module.exports = __webpack_public_path__ + \"static/media/graph-transaction-fees.311a3ced.png\";","import React from \"react\";\n\nfunction Chart({ children, title }) {\n  return (\n    <div className=\"min-w-0 p-4 bg-gray-800 rounded-lg shadow-xs\">\n      <p className=\"mb-4 font-semibold text-gray-300\">{title}</p>\n      {children}\n    </div>\n  );\n}\n\nexport default Chart;\n","import React from \"react\";\n\nfunction ChartLegend({ legends }) {\n  return (\n    <div className=\"flex justify-center mt-4 space-x-3 text-sm text-gray-400\">\n      {legends.map((legend) => (\n        <div className=\"flex items-center\" key={legend.title}>\n          <span\n            className={`inline-block w-3 h-3 mr-1 ${legend.color} rounded-full`}\n          ></span>\n          <span>{legend.title}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ChartLegend;\n","import React from \"react\";\n\nfunction PageTitle({ children, left, right }) {\n  if (children) {\n    return (\n      <div className=\"flex items-center justify-between px-8 pt-10 pb-8 mb-8 -mx-6 text-gray-100 border-b-2 border-gray-900 bg-gray-950\">\n        <h1 show={children} className=\"mb-3 text-2xl\">\n          {children}\n        </h1>\n      </div>\n    );\n  }\n\n  if (!children) {\n    return (\n      <div className=\"flex flex-wrap items-center justify-between px-12 pt-10 pb-8 mb-8 -mx-6 text-gray-100 border-b-2 border-gray-900 bg-gray-950\">\n        <div>{left}</div>\n        <div>{right}</div>\n      </div>\n    );\n  }\n}\n\nexport default PageTitle;\n"],"sourceRoot":""}