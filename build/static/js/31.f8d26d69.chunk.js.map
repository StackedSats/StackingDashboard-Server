{"version":3,"sources":["pages/CreateAccount.js"],"names":["schema","Joi","object","username","string","email","tlds","allow","Login","history","useHistory","useState","setUsername","password","setPassword","isError","setError","register","a","console","log","validate","error","axios","post","process","token","localStorage","setItem","push","className","type","placeholder","value","onChange","e","target","style","color","block","onClick","href","to"],"mappings":"sQAOMA,EAASC,IAAIC,OAAO,CACxBC,SAAUF,IAAIG,SAASC,MAAM,CAAEC,KAAM,CAAEC,OAAO,OA8FjCC,UA5Ff,WACE,IAAMC,EAAUC,cADD,EAEiBC,mBAAS,IAF1B,mBAERR,EAFQ,KAEES,EAFF,OAGiBD,mBAAS,IAH1B,mBAGRE,EAHQ,KAGEC,EAHF,OAIaH,mBAAS,IAJtB,mBAIRI,EAJQ,KAICC,EAJD,KAMTC,EAAQ,uCAAG,gCAAAC,EAAA,yDACfC,QAAQC,IAAI,YADG,EAEGpB,EAAOqB,SAAS,CAAElB,aAA5BmB,EAFO,EAEPA,MACRH,QAAQC,IAAIE,GACPA,EAJU,iCAKOC,IAAMC,KAAN,UACfC,wBADe,aAElB,CAAEtB,WAAUU,aAPD,OAKPa,EALO,OASbC,aAAaC,QAAQ,aAAcF,GACnCjB,EAAQoB,KAAK,UAVA,wBAYbb,GAAS,GAZI,4CAAH,qDAgBd,OACE,yBAAKc,UAAU,kDACb,yBAAKA,UAAU,gFACb,0BAAMA,UAAU,gDACd,yBAAKA,UAAU,UACb,wBAAIA,UAAU,sCAAd,WACA,uBAAGA,UAAU,sBAAb,yCAGA,kBAAC,QAAD,KACE,uCACA,kBAAC,QAAD,CACEA,UAAU,uBACVC,KAAK,QACLC,YAAY,eACZC,MAAO9B,EACP+B,SAAU,SAACC,GAAD,OAAOvB,EAAYuB,EAAEC,OAAOH,WAGzClB,GACC,uBAAGsB,MAAO,CAAEC,MAAO,QAAnB,8BAEF,kBAAC,QAAD,CAAOR,UAAU,QACf,0CACA,kBAAC,QAAD,CACEA,UAAU,uBACVC,KAAK,WACLC,YAAY,kBACZC,MAAOpB,EACPqB,SAAU,SAACC,GAAD,OAAOrB,EAAYqB,EAAEC,OAAOH,WAI1C,yBACEH,UAAU,wCACVS,OAAK,EACLC,QAASvB,GAHX,UAQA,uBAAGa,UAAU,kCAAb,+DAEE,uBACEA,UAAU,mCACVW,KAAK,sDAFP,mBAOF,uBAAGX,UAAU,QAAb,4BACA,kBAAC,IAAD,CACEA,UAAU,8EACVY,GAAG,UAEH,0BAAMZ,UAAU,QAAhB,WAJF,IAIwC,kBAAC,IAAD,OAExC,kBAAC,IAAD,CACEA,UAAU,sEACVY,GAAG,oBAFL","file":"static/js/31.f8d26d69.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Joi from \"joi\";\nimport { Label, Input } from \"@windmill/react-ui\";\nimport { FiArrowRight } from \"react-icons/fi\";\nimport axios from \"axios\";\n\nconst schema = Joi.object({\n  username: Joi.string().email({ tlds: { allow: false } }),\n});\nfunction Login() {\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isError, setError] = useState(\"\");\n\n  const register = async () => {\n    console.log(\"fsjkdhnf\");\n    const { error } = schema.validate({ username });\n    console.log(error);\n    if (!error) {\n      const token = await axios.post(\n        `${process.env.REACT_APP_BACKENDURL}/register`,\n        { username, password }\n      );\n      localStorage.setItem(\"stacksauth\", token);\n      history.push(\"/login\");\n    } else {\n      setError(true);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-900\">\n      <div className=\"flex-1 h-full max-w-md mx-auto overflow-hidden bg-white rounded-lg shadow-xl\">\n        <main className=\"flex items-center justify-center p-6 sm:p-12\">\n          <div className=\"w-full\">\n            <h1 className=\"text-3xl font-medium text-gray-700\">Welcome</h1>\n            <p className=\"mb-8 text-gray-300\">\n              Please Sign up to create your account\n            </p>\n            <Label>\n              <span>Email</span>\n              <Input\n                className=\"py-3 mt-1 bg-gray-50\"\n                type=\"email\"\n                placeholder=\"john@doe.com\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </Label>\n            {isError && (\n              <p style={{ color: \"red\" }}>Please Enter a Valid Email</p>\n            )}\n            <Label className=\"mt-4\">\n              <span>Password</span>\n              <Input\n                className=\"py-3 mt-1 bg-gray-50\"\n                type=\"password\"\n                placeholder=\"***************\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </Label>\n\n            <div\n              className=\"mt-4 btn btn-primary btn-lg btn-block\"\n              block\n              onClick={register}\n            >\n              Log in\n            </div>\n\n            <p className=\"mt-4 font-medium text-gray-300\">\n              By pressing “Create account” you agree to our &nbsp;\n              <a\n                className=\"hover:underline text-primary-500\"\n                href=\"https://legacy.blockstack.org/legal/privacy-policy\"\n              >\n                privacy policy\n              </a>\n            </p>\n            <p className=\"mt-6\">Already have an account?</p>\n            <Link\n              className=\"flex items-center mt-3 text-lg font-medium text-success-500 hover:underline\"\n              to=\"/login\"\n            >\n              <span className=\"mr-2\">Sign In</span> <FiArrowRight />\n            </Link>\n            <Link\n              className=\"flex items-center mt-8 font-medium text-primary-500 hover:underline\"\n              to=\"/forgot-password\"\n            >\n              Forgot Password\n            </Link>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"sourceRoot":""}