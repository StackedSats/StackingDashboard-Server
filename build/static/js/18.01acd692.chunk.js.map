{"version":3,"sources":["components/Chart/ChartCard.js","../node_modules/js-file-download/file-download.js","components/Chart/ChartLegend.js","components/Typography/PageTitle.js","pages/stack-analytics/ContractDetail.js"],"names":["Chart","children","title","className","module","exports","data","filename","mime","bom","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","ChartLegend","legends","map","legend","key","color","PageTitle","left","right","show","Left","Right","Blank","useState","calls","setCalls","fees","setFees","dateAgainsFee","setDateAgainstFee","pieLIst","setPieList","useEffect","a","axios","get","process","list","forEach","value","push","fee","Date","date","getTime","functionName","pieList","sum","Object","keys","fetch","labels","datasets","label","backgroundColor","borderColor","borderWidth","lineOptions","fill","options","responsive","tooltips","mode","intersect","hover","scales","x","y","scaleLabel","labelString","class","onClick","downloadelist","JSON","stringify","fileDownload","index","stxAddress","parseInt","now"],"mappings":"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","file":"static/js/18.01acd692.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Chart({ children, title }) {\n  return (\n    <div className=\"min-w-0 p-4 bg-gray-800 rounded-lg shadow-xs\">\n      <p className=\"mb-4 font-semibold text-gray-300\">{title}</p>\n      {children}\n    </div>\n  );\n}\n\nexport default Chart;\n","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","import React from \"react\";\n\nfunction ChartLegend({ legends }) {\n  return (\n    <div className=\"flex justify-center mt-4 space-x-3 text-sm text-gray-400\">\n      {legends.map((legend) => (\n        <div className=\"flex items-center\" key={legend.title}>\n          <span\n            className={`inline-block w-3 h-3 mr-1 ${legend.color} rounded-full`}\n          ></span>\n          <span>{legend.title}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ChartLegend;\n","import React from \"react\";\n\nfunction PageTitle({ children, left, right }) {\n  if (children) {\n    return (\n      <div className=\"flex items-center justify-between px-8 pt-10 pb-8 mb-8 -mx-6 text-gray-100 border-b-2 border-gray-900 bg-gray-950\">\n        <h1 show={children} className=\"mb-3 text-2xl\">\n          {children}\n        </h1>\n      </div>\n    );\n  }\n\n  if (!children) {\n    return (\n      <div className=\"flex flex-wrap items-center justify-between px-12 pt-10 pb-8 mb-8 -mx-6 text-gray-100 border-b-2 border-gray-900 bg-gray-950\">\n        <div>{left}</div>\n        <div>{right}</div>\n      </div>\n    );\n  }\n}\n\nexport default PageTitle;\n","import React, { useEffect, useState } from \"react\";\n\nimport PageTitle from \"../../components/Typography/PageTitle\";\n\nimport {\n  Card,\n  CardBody,\n  Select,\n  Table,\n  TableHeader,\n  TableCell,\n  TableBody,\n  TableRow,\n  TableContainer,\n} from \"@windmill/react-ui\";\nimport { FiDownload } from \"react-icons/fi\";\nimport axios from \"axios\";\nimport ChartCard from \"../../components/Chart/ChartCard\";\n\nimport { Doughnut, Line, Pie } from \"react-chartjs-2\";\nimport ChartLegend from \"../../components/Chart/ChartLegend\";\nimport fileDownload from \"js-file-download\";\n\nconst Left = () => {\n  return (\n    <>\n      <h1 className=\"mb-3 text-2xl\">Contract Detail</h1>\n      <div>ST000000000000000000002AMW42H.pox</div>\n    </>\n  );\n};\n\nconst Right = () => {\n  return <></>;\n};\n\nfunction Blank() {\n  const [calls, setCalls] = useState([]);\n  const [fees, setFees] = useState([]);\n  const [dateAgainsFee, setDateAgainstFee] = useState([]);\n  const [pieLIst, setPieList] = useState({});\n\n  useEffect(() => {\n    const fetch = async () => {\n      const data = await axios.get(\n        `${process.env.REACT_APP_BACKENDURL}/callHistory`\n      );\n      setCalls(data.data);\n      let list = {};\n      let fees = [];\n      let dateAgainsFee = [];\n      data.data.forEach((value) => {\n        fees.push(value.fee);\n\n        dateAgainsFee.push(new Date(value.date).getTime());\n        if (list[value.functionName]) {\n          list[value.functionName] += list[value.functionName];\n        } else {\n          list[value.functionName] = 1;\n        }\n      });\n      setFees(fees);\n      setDateAgainstFee(dateAgainsFee);\n\n      let pieList = { sum: [], functionName: [] };\n      Object.keys(list).forEach((key) => {\n        pieList.sum.push(list[key]);\n        pieList.functionName.push(key);\n      });\n\n      setPieList(pieList);\n    };\n    fetch();\n  }, []);\n\n  const data = {\n    labels: pieLIst.functionName,\n    datasets: [\n      {\n        label: \"# of Votes\",\n        data: pieLIst.sum,\n        backgroundColor: [\n          \"rgba(255, 99, 132, 0.2)\",\n          \"rgba(54, 162, 235, 0.2)\",\n          \"rgba(255, 206, 86, 0.2)\",\n          \"rgba(75, 192, 192, 0.2)\",\n          \"rgba(153, 102, 255, 0.2)\",\n          \"rgba(255, 159, 64, 0.2)\",\n        ],\n        borderColor: [\n          \"rgba(255, 99, 132, 1)\",\n          \"rgba(54, 162, 235, 1)\",\n          \"rgba(255, 206, 86, 1)\",\n          \"rgba(75, 192, 192, 1)\",\n          \"rgba(153, 102, 255, 1)\",\n          \"rgba(255, 159, 64, 1)\",\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const lineOptions = {\n    data: {\n      labels: dateAgainsFee,\n      datasets: [\n        {\n          label: \"Fees\",\n          backgroundColor: \"#0694a2\",\n          borderColor: \"#0694a2\",\n          data: fees,\n          fill: true,\n        },\n      ],\n    },\n    options: {\n      responsive: true,\n      tooltips: {\n        mode: \"index\",\n        intersect: false,\n      },\n      hover: {\n        mode: \"nearest\",\n        intersect: true,\n      },\n      scales: {\n        x: {\n          display: true,\n        },\n        y: {\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: \"Value\",\n          },\n        },\n      },\n    },\n    legend: {\n      display: false,\n    },\n  };\n\n  const exportCSV = () => {\n    const downloadelist = calls.map((value) => {\n      return JSON.stringify(value);\n    });\n    fileDownload(downloadelist, \"calls.csv\");\n  };\n  const lineLegends = [{ title: \"Fees\", color: \"bg-teal-600\" }];\n\n  return (\n    <>\n      <PageTitle left={<Left />} right={<Right />}></PageTitle>\n      <div className=\"p-4 space-y-6\">\n        <div className=\"grid grid-cols-1 mb-8 xl:gap-6 xl:grid-cols-3\">\n          <div class=\"col-span-2\">\n            <Card className=\"mb-8 shadow-md\">\n              <CardBody className=\"text-white\">\n                <div className=\"flex flex-wrap justify-between mb-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span>\n                      <h3 className=\"mr-4 text-lg font-medium\">Call History</h3>\n                    </span>\n                    <div className=\"flex items-center ml-10 text-primary-400\">\n                      <FiDownload />\n                      <button onClick={exportCSV} className=\"ml-1\">\n                        Export\n                      </button>\n                    </div>\n                  </div>\n                  {/* <div>\n                    <Select className=\"py-1 pl-2 mt-1 bg-transparent border-gray-300 leading-1\">\n                      <option>Sort By</option>\n                    </Select>\n                  </div> */}\n                </div>\n                <TableContainer className=\"mb-8\">\n                  <Table>\n                    <TableHeader>\n                      <tr>\n                        <TableCell>Function</TableCell>\n                        <TableCell>Contracts</TableCell>\n                        <TableCell>Fee</TableCell>\n                        <TableCell>Time</TableCell>\n                      </tr>\n                    </TableHeader>\n                    <TableBody className=\"text-lg divide-gray-500\">\n                      {calls.map((value, index) => {\n                        return (\n                          <TableRow className=\"text-white\" key={index}>\n                            <TableCell>{value.functionName}</TableCell>\n                            <TableCell>{value.stxAddress}</TableCell>\n                            <TableCell>{value.fee} STX</TableCell>\n                            <TableCell>\n                              {parseInt(\n                                (Date.now() - new Date(value.date)) /\n                                  (1000 * 60 * 24),\n                                10\n                              )}{\" \"}\n                              min. ago\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </CardBody>\n            </Card>\n          </div>\n          <div className=\"space-y-6\">\n            <Card>\n              <CardBody className=\"-mb-8 space-y-8 text-white\">\n                <div className=\"flex flex-wrap justify-between\">\n                  <div className=\"flex flex-wrap items-center\">\n                    <h2 className=\"mr-3 text-xl font-medium\">Function Calls</h2>\n                  </div>\n                  <div>\n                    <Select className=\"py-1 pl-2 mt-1 bg-transparent border-gray-300 leading-1\">\n                      <option>24 Hrs</option>\n                    </Select>\n                  </div>\n                </div>\n                <div className=\"pb-3 mb-3 border-b border-gray-500\">\n                  <div className=\"flex flex-wrap justify-between\">\n                    <div>Total # of Function Calls</div>\n                    <div className=\"flex font-medium text-success-500\">200</div>\n                  </div>\n                </div>\n                <ChartCard title=\"\">\n                  <Pie data={data} />\n                </ChartCard>\n              </CardBody>\n            </Card>\n            <Card>\n              <CardBody className=\"-mb-8 space-y-8 text-white\">\n                <h2 className=\"mr-3 text-xl font-medium\">Transaction fees</h2>\n                <ChartCard title=\"Doughnut\">\n                  <Line {...lineOptions} />\n                  <ChartLegend legends={lineLegends} />\n                </ChartCard>\n              </CardBody>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Blank;\n"],"sourceRoot":""}